webpackJsonp([12],{265:function(t,e,i){i(486);var r=i(13)(i(371),i(555),"data-v-1d7774bc",null);t.exports=r.exports},293:function(t,e,i){"use strict";(function(t){e.a={methods:{styleColor:function(t,e){return console.log(t,"--------",e),console.log(t<e),t<e?"sub-color":t==e?"":"add-color"},styleColorByBiz:function(e){return e==t.STKBIZ.BUY_IN||e==t.STKBIZ.SUBSCRIBE_PURCHASE?"add-color":e==t.STKBIZ.SELL_OUT?"sub-color":""},goBack:function(){this.$router.go(-1)}}}}).call(e,i(0))},294:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(293),s=i(50);i.n(s);Vue.component(s.Header.name,s.Header),e.default={data:function(){return{}},props:{title:{type:String,default:"头"}},mixins:[r.a]}},295:function(t,e,i){var r=i(13)(i(294),i(296),null,null);t.exports=r.exports},296:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("mt-header",{staticClass:"cust-header",staticStyle:{background:"#ef4f4f"},attrs:{title:t.title}},[i("mt-button",{attrs:{icon:"back"},on:{click:t.goBack},slot:"left"},[t._v("返回")])],1)},staticRenderFns:[]}},309:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{rVal:""}},props:{pars:{type:Object,default:function(){return{toFixedNumber:0,minNumber:0,maxNumber:1e7,unitNumber:1,val:""}}},placeholder:{type:String,default:"请输入数量2"}},watch:{pars:function(t){this.rVal=t.val},rVal:function(t){this.pars.val!=t&&(this.pars.val=t,this.$emit("callback",this.pars.val))}},methods:{subNumber:function(){var t=1*this.pars.val-1*this.pars.unitNumber;t=t>this.pars.minNumber?t:this.pars.minNumber,t=t>this.pars.maxNumber?this.pars.maxNumber:t,this.rVal=(1*t).toFixed(this.pars.toFixedNumber)},addNumber:function(){var t=1*this.pars.val+1*this.pars.unitNumber;t=t<this.pars.maxNumber?t:this.pars.maxNumber,t=t<this.pars.minNumber?this.pars.minNumber:t,this.rVal=(1*t).toFixed(this.pars.toFixedNumber)}}}},319:function(t,e,i){var r=i(13)(i(309),i(320),null,null);t.exports=r.exports},320:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("button",{staticClass:"opt-button-sub",attrs:{type:"button"},on:{click:t.subNumber}},[t._v("-")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.rVal,expression:"rVal"}],attrs:{type:"text",placeholder:t.placeholder},domProps:{value:t.rVal},on:{input:function(e){e.target.composing||(t.rVal=e.target.value)}}}),t._v(" "),i("button",{staticClass:"opt-button-add",attrs:{type:"button"},on:{click:t.addNumber}},[t._v("+")])])},staticRenderFns:[]}},371:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){var r=i(52),s=i.n(r),n=i(50),a=(i.n(n),i(51)),o=i.n(a),u=i(319),d=i.n(u),l=i(295),c=i.n(l);Vue.component(n.Button.name,n.Button),Vue.component(n.Field.name,n.Field),e.default={name:"slidemenu",data:function(){return{numPars:{toFixedNumber:0,minNumber:1,maxNumber:1e6,unitNumber:1,val:""},title:"认购付款",visible:!0,cust:"",stkCode:"",baseQty:"",orderPrice:"",orderQty:"",kgje:"",zdkm:"",sysl:"",maxLimitQty:"",minLimitQty:"",stkBiz:t.STKBIZ.SUBSCRIBE}},computed:{},components:{custHeader:c.a,numberBox:d.a},created:function(){this.$route.query.stkBiz&&(this.stkBiz=this.$route.query.stkBiz),this.$route.query.stkCode&&(this.stkCode=this.$route.query.stkCode),(this.$route.query.issPrice||0==this.$route.query.issPrice)&&(this.orderPrice=this.$route.query.issPrice),(this.$route.query.kgje||0==this.$route.query.kgje)&&(this.kgje=this.$route.query.kgje),(this.$route.query.sysl||0==this.$route.query.sysl)&&(this.sysl=this.$route.query.sysl),(this.$route.query.maxLimitQty||0==this.$route.query.maxLimitQty)&&(this.maxLimitQty=this.$route.query.maxLimitQty),(this.$route.query.minLimitQty||0==this.$route.query.minLimitQty)&&(this.minLimitQty=this.$route.query.minLimitQty),this.$route.query.baseQty&&(this.baseQty=this.$route.query.baseQty,this.numPars=s()(this.numPars,{unitNumber:1*this.$route.query.baseQty})),this.getMaxQty(),this.numPars={toFixedNumber:0,minNumber:this.minLimitQty,maxNumber:this.sysl,unitNumber:this.baseQty,val:this.minLimitQty}},watch:{value:function(t){this.visible=t.isShow},visible:function(t){this.value.isShow=!0}},methods:{getMaxSl:function(){var t=this.sysl>this.zdkm?this.zdkm:this.sysl;return 1*t%(1*this.baseQty)!=0&&(t=Math.floor(1*t/(1*this.baseQty))*(1*this.baseQty)),t},getMaxQty:function(e){var r=this,s={stkex:t.scdm,stkbd:t.stkbd,orderPrice:this.orderPrice,stkBiz:t.STKBIZ.SUBSCRIBE_PURCHASE,trdacct:o.a.get("trdAcct"),stkCode:this.stkCode};axiosUtil.upCltBuyMaxQtyQry(s).then(function(t){var t=t.data;if(0==t.errorcode){r.zdkm=t.data;var e=r.getMaxSl();r.zdkm=e,r.numPars={toFixedNumber:0,minNumber:r.minLimitQty,maxNumber:e,unitNumber:r.baseQty,val:r.minLimitQty}}else{i.i(n.MessageBox)("提示",t.errormsg),r.zdkm=0;var e=r.getMaxSl();r.zdkm=e,r.numPars={toFixedNumber:0,minNumber:0,maxNumber:0,unitNumber:0,val:0}}})},goBack:function(){this.$router.go(-1)},buy:function(){if(""==this.numPars.val)return void i.i(n.MessageBox)("提示","数量不准为空!");if(1*this.numPars.val>this.zdkm||1*this.numPars.val<this.minLimitQty)return void i.i(n.MessageBox)("提示","数量不能大于最大可买("+this.zdkm+")，不能小于申报下限("+this.minLimitQty+")");if(1*this.numPars.val%this.baseQty!=0)return void i.i(n.MessageBox)("提示","数量必须是买量单位("+this.baseQty+")的整数倍");var e={stkex:t.scdm,stkbd:t.stkbdApply,stkCode:this.stkCode,currency:0,orderPrice:this.orderPrice,orderQty:this.numPars.val,trdacct:o.a.get("trdAcct"),stkBiz:this.stkBiz};axiosUtil.entrust(e).then(function(t){var t=t.data;1==t.errorcode?i.i(n.MessageBox)("提示",t.errormsg):i.i(n.MessageBox)("提示","委托成功，委托号="+t.data)})}}}}.call(e,i(0))},419:function(t,e,i){e=t.exports=i(228)(!0),e.push([t.i,".slidemenu[data-v-1d7774bc]{position:fixed;width:100%;height:100%;z-index:999;left:0;top:0;background-color:#efeee9;transition:all .5s ease}.slidemenu-conent[data-v-1d7774bc]{height:100%;width:100%;background:#efeee9}.menu-list[data-v-1d7774bc]{color:#111}.login-tt[data-v-1d7774bc]{margin:8px 26px;color:#999;font-size:12px}.login-inputs[data-v-1d7774bc]{width:100%;margin:0 auto}.pay-btn[data-v-1d7774bc]{margin:12px 20px}.login-btns[data-v-1d7774bc]{width:90%;margin:12px auto}.login-ghost[data-v-1d7774bc]{background:transparent;border:1px solid #ef4f4f;color:#ef4f4f;margin-top:12px}.login-header[data-v-1d7774bc]{position:absolute;left:0;top:0;width:100%;z-index:3;height:45px;line-height:45px;font-size:19px;background:#ef4f4f;color:#fff;text-align:center}.top-back[data-v-1d7774bc]{max-width:85px;float:left}","",{version:3,sources:["D:/Program Files/work/2017/project-trade/src/views/pay/index.vue"],names:[],mappings:"AACA,4BACE,eAAgB,AAChB,WAAY,AACZ,YAAa,AACb,YAAa,AACb,OAAQ,AACR,MAAO,AACP,yBAA0B,AAC1B,uBAAyB,CAC1B,AACD,mCACE,YAAa,AACb,WAAY,AACZ,kBAAoB,CACrB,AACD,4BACE,UAAY,CACb,AACD,2BACE,gBAAiB,AACjB,WAAY,AACZ,cAAgB,CACjB,AACD,+BACE,WAAY,AACZ,aAAe,CAChB,AACD,0BACI,gBAAkB,CACrB,AACD,6BACE,UAAW,AACX,gBAAkB,CACnB,AACD,8BACE,uBAA6B,AAC7B,yBAA0B,AAC1B,cAAe,AACf,eAAiB,CAClB,AACD,+BACE,kBAAmB,AACnB,OAAQ,AACR,MAAO,AACP,WAAY,AACZ,UAAW,AACX,YAAa,AACb,iBAAkB,AAClB,eAAgB,AAChB,mBAAoB,AACpB,WAAe,AACf,iBAAmB,CACpB,AACD,2BACE,eAAgB,AAChB,UAAY,CACb",file:"index.vue",sourcesContent:["\n.slidemenu[data-v-1d7774bc] {\r\n  position: fixed;\r\n  width: 100%;\r\n  height: 100%;\r\n  z-index: 999;\r\n  left: 0;\r\n  top: 0;\r\n  background-color: #efeee9;\r\n  transition: .5s all ease;\n}\n.slidemenu-conent[data-v-1d7774bc] {\r\n  height: 100%;\r\n  width: 100%;\r\n  background: #efeee9;\n}\n.menu-list[data-v-1d7774bc] {\r\n  color: #111;\n}\n.login-tt[data-v-1d7774bc] {\r\n  margin: 8px 26px;\r\n  color: #999;\r\n  font-size: 12px;\n}\n.login-inputs[data-v-1d7774bc] {\r\n  width: 100%;\r\n  margin: 0 auto;\n}\n.pay-btn[data-v-1d7774bc]{\r\n    margin: 12px 20px;\n}\n.login-btns[data-v-1d7774bc] {\r\n  width: 90%;\r\n  margin: 12px auto;\n}\n.login-ghost[data-v-1d7774bc] {\r\n  background: rgba(0, 0, 0, 0);\r\n  border: 1px solid #ef4f4f;\r\n  color: #ef4f4f;\r\n  margin-top: 12px;\n}\n.login-header[data-v-1d7774bc] {\r\n  position: absolute;\r\n  left: 0;\r\n  top: 0;\r\n  width: 100%;\r\n  z-index: 3;\r\n  height: 45px;\r\n  line-height: 45px;\r\n  font-size: 19px;\r\n  background: #ef4f4f;\r\n  color: #ffffff;\r\n  text-align: center;\n}\n.top-back[data-v-1d7774bc] {\r\n  max-width: 85px;\r\n  float: left;\n}\r\n"],sourceRoot:""}])},486:function(t,e,i){var r=i(419);"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);i(229)("7b8ff802",r,!0)},555:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("transition",{attrs:{name:"slide-left-menu"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],staticClass:"slidemenu"},[i("div",{staticClass:"slidemenu-conent"},[i("custHeader",{attrs:{title:t.title}}),t._v(" "),i("div",{staticClass:"login-tt"},[i("span",[t._v("剩余数量 : "+t._s(t.sysl))])]),t._v(" "),i("div",{staticClass:"login-tt"},[i("span",[t._v("最大可买 : "+t._s(t.zdkm))])]),t._v(" "),i("div",{staticClass:"login-tt"},[i("span",[t._v("申购单价 : "+t._s(t._f("toMoney")(t.orderPrice)))])]),t._v(" "),i("div",{staticClass:"login-tt"},[i("span",[t._v("申购上限 : "+t._s(t.maxLimitQty))])]),t._v(" "),i("div",{staticClass:"login-tt"},[i("span",[t._v("申购下限 : "+t._s(t.minLimitQty))])]),t._v(" "),i("div",{staticClass:"login-tt"},[i("span",[t._v("梯度 : "+t._s(t.baseQty))])]),t._v(" "),i("div",{staticClass:"login-inputs"},[i("div"),t._v(" "),i("numberBox",{staticClass:"opt-button pay-btn",attrs:{pars:t.numPars,placeholder:"输入认购数量"},model:{value:t.orderQty,callback:function(e){t.orderQty=e},expression:"orderQty"}}),t._v(" "),i("div",{staticClass:"login-btns"},[i("mt-button",{attrs:{type:"danger",size:"large"},on:{click:t.buy}},[t._v("购买")])],1)],1)],1)])])},staticRenderFns:[]}}});
//# sourceMappingURL=12.8cb887b88fc23963930c.js.map