webpackJsonp([37],{266:function(e,t,s){s(480);var a=s(13)(s(372),s(549),"data-v-17242e7e",null);e.exports=a.exports},293:function(e,t,s){"use strict";(function(e){t.a={methods:{styleColor:function(e,t){return console.log(e,"--------",t),console.log(e<t),e<t?"sub-color":e==t?"":"add-color"},styleColorByBiz:function(t){return t==e.STKBIZ.BUY_IN||t==e.STKBIZ.SUBSCRIBE_PURCHASE?"add-color":t==e.STKBIZ.SELL_OUT?"sub-color":""},goBack:function(){this.$router.go(-1)}}}}).call(t,s(0))},294:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s(293),i=s(50);s.n(i);Vue.component(i.Header.name,i.Header),t.default={data:function(){return{}},props:{title:{type:String,default:"头"}},mixins:[a.a]}},295:function(e,t,s){var a=s(13)(s(294),s(296),null,null);e.exports=a.exports},296:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("mt-header",{staticClass:"cust-header",staticStyle:{background:"#ef4f4f"},attrs:{title:e.title}},[s("mt-button",{attrs:{icon:"back"},on:{click:e.goBack},slot:"left"},[e._v("返回")])],1)},staticRenderFns:[]}},372:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s(295),i=s.n(a),d=s(50);s.n(d);Vue.component(d.Radio.name,d.Radio),t.default={data:function(){return{title:"收货地址管理",addVis:!1,editVis:!1,isDefault:"1",rules:{addRecipients:{str:"required",state:""},addmb:{str:"required,mobile",state:""},addAddress:{str:"required",state:""},editRecipients:{str:"required",state:""},editmb:{str:"required",state:""},editAddress:{str:"required",state:""}},addressData:[],selectTypeVisible3:!1,selectTypeSlots3:[{flex:1,values:[]}],selectTypeVisible4:!1,selectTypeSlots4:[{flex:1,values:[]}],selectTypeVisible5:!1,selectTypeSlots5:[{flex:1,values:[]}],areas:{province:{name:"province",dataKey:"selectTypeSlots3"},city:{name:"city",dataKey:"selectTypeSlots4"},area:{name:"area",dataKey:"selectTypeSlots5"}},addForm:{addRecipients:"",addmb:"",addAddress:"",province:{name:"",value:""},city:{name:"",value:""},county:{name:"",value:""}},editForm:{sno:"",editRecipients:"",editmb:"",editAddress:"",province:{name:"",value:""},city:{name:"",value:""},county:{name:"",value:""}}}},methods:{addAddress:function(){this.addVis=!0},selectTypeVisibleShow3:function(){this.selectTypeVisible3=!0},selectTypeVisibleShow4:function(){this.selectTypeVisible4=!0},selectTypeVisibleShow5:function(){this.selectTypeVisible5=!0},selectTypeChange3:function(e,t){var s=this;console.log(t),t[0]&&(this.addVis?(this.addForm.province.name=t[0].name,this.addForm.province.value=t[0].value,window.areaCity("city",t[0].value).then(function(e){var t=[];e.forEach(function(e){t.push({value:e.ddItem,name:e.ddItemName})}),s.selectTypeSlots4=[{flex:1,values:t}]})):(this.editForm.province.name=t[0].name,this.editForm.province.value=t[0].value,window.areaCity("city",t[0].value).then(function(e){var t=[];e.forEach(function(e){t.push({value:e.ddItem,name:e.ddItemName})}),s.selectTypeSlots4=[{flex:1,values:t}]})))},selectTypeChange4:function(e,t){var s=this;console.log(t),t[0]&&(this.addVis?(this.addForm.city.name=t[0].name,this.addForm.city.value=t[0].value,window.areaCity("area",t[0].value).then(function(e){console.log(e);var t=[];e.forEach(function(e){t.push({value:e.ddItem,name:e.ddItemName})}),s.selectTypeSlots5=[{flex:1,values:t}]})):(this.editForm.city.name=t[0].name,this.editForm.city.value=t[0].value,window.areaCity("area",t[0].value).then(function(e){console.log(e);var t=[];e.forEach(function(e){t.push({value:e.ddItem,name:e.ddItemName})}),s.selectTypeSlots5=[{flex:1,values:t}]})))},selectTypeChange5:function(e,t){console.log(t),t[0]&&(this.addVis?(this.addForm.county.name=t[0].name,this.addForm.county.value=t[0].value):(this.editForm.county.name=t[0].name,this.editForm.county.value=t[0].value))},dissSelectType:function(){this.currency="",this.selectTypeVisible3=!1,this.selectTypeVisible4=!1,this.selectTypeVisible5=!1},sureSelectType:function(){this.selectTypeVisible3=!1,this.selectTypeVisible4=!1,this.selectTypeVisible5=!1},addBack:function(){this.addVis=!1},saveAddress:function(){var e={province:this.addForm.province.value,city:this.addForm.city.value,address:this.addForm.addAddress,county:this.addForm.county.value,recipients:this.addForm.addRecipients,recipientsMb:this.addForm.addmb};console.log("success"!=this.rules.addmb.state,"addmb"),console.log("success"!=this.rules.addRecipients.state,"addRecipient"),console.log("success"!=this.rules.addAddress.state,"addAddress"),console.log(""==this.addForm.province.value),console.log(""==this.addForm.city.value),console.log(""==this.addForm.county.value),console.log("success"!=this.rules.addmb.state&&"success"!=this.rules.addRecipients.state&&"success"!=this.rules.addAddress.state),"success"!=this.rules.addmb.state||"success"!=this.rules.addRecipients.state||"success"!=this.rules.addAddress.state||""==this.addForm.province.value||""==this.addForm.city.value||""==this.addForm.county.value?d.MessageBox.alert("请将信息填写完整").then(function(e){window.$(".v-modal").hide()}):axiosUtil.upCltShopAddressIns(e).then(function(e){var e=e.data;0==e.errorcode?d.MessageBox.alert("添加成功").then(function(e){window.location.reload()}):d.MessageBox.alert("提示",e.errormsg).then(function(e){window.$(".v-modal").hide()})})},editBack:function(){this.editVis=!1},editAddress:function(e){var t=this;this.editVis=!0;for(var s,a=0;a<this.addressData.length;a++)if(this.addressData[a].sno==e){s=this.addressData[a];break}this.editForm.sno=e,this.editForm.editRecipients=s.recipients,this.rules.editRecipients.state=this.editForm.editRecipients?"success":"",this.editForm.editmb=s.recipientsMb,this.rules.editmb.state=this.editForm.editmb?"success":"",this.editForm.editAddress=s.address,this.rules.editAddress.state=this.editForm.editAddress?"success":"";var i=this;window.toArea("province",s.province).then(function(e){i.editForm.province.name=e}),i.editForm.province.value=s.province,window.toArea("city",s.city,s.province).then(function(e){t.editForm.city.name=e}),i.editForm.city.value=s.city,window.toArea("area",s.county,s.city).then(function(e){t.editForm.county.name=e}),i.editForm.county.value=s.county},saveEditAddress:function(){var e={sno:this.editForm.sno,province:this.editForm.province.value,city:this.editForm.city.value,county:this.editForm.county.value,address:this.editForm.editAddress,recipients:this.editForm.editRecipients,recipientsMb:this.editForm.editmb};"success"!=this.rules.editmb.state||"success"!=this.rules.editRecipients.state||"success"!=this.rules.editAddress.state?d.MessageBox.alert("请将信息填写完整").then(function(e){window.$(".v-modal").hide()}):axiosUtil.upCltShopAddressUpd(e).then(function(e){var e=e.data;0==e.errorcode?d.MessageBox.alert("修改成功").then(function(e){window.location.reload()}):d.MessageBox.alert("提示",e.errormsg).then(function(e){window.$(".v-modal").hide()})})},removeAddress:function(e){d.MessageBox.confirm("确定删除么").then(function(t){axiosUtil.upCltShopAddressDel({sno:e}).then(function(e){var e=e.data;0==e.errorcode?d.MessageBox.alert("删除成功").then(function(e){window.location.reload()}):s.i(d.MessageBox)("提示",e.errormsg)})})},compare:function(e){return function(t,s){return t[e]-s[e]}}},created:function(){var e=this,t=this;axiosUtil.upCltShopAddressQry().then(function(s){var s=s.data;t.addressData=s.data,t.addressData.sort(e.compare("usedDate")),t.isDefault=t.addressData[0].sno})},components:{custHeader:i.a}}},413:function(e,t,s){t=e.exports=s(228)(!0),t.push([e.i,".addressBody[data-v-17242e7e]{background-color:#eee}.addressLi[data-v-17242e7e]{background-color:#fff;padding:10px;margin-top:20px}.li-header[data-v-17242e7e]{padding-bottom:10px}.li-content[data-v-17242e7e]{padding-bottom:10px;border-bottom:1px solid #eee}.addAddress[data-v-17242e7e]{position:fixed;bottom:0;z-index:3}.addBody[data-v-17242e7e],.editBody[data-v-17242e7e]{height:100vh}.select-dict[data-v-17242e7e]{font-size:14px}.select-dict button[data-v-17242e7e]{width:50%;float:left;height:28px;border:none;background:#fff;border-top:1px solid #ccc}.select-dict button[data-v-17242e7e]:last-child{border-left:1px solid #ccc}.select-dict-btns[data-v-17242e7e]{position:absolute;bottom:0;bottom:-28px;width:100%}","",{version:3,sources:["D:/Program Files/work/2017/project-trade/src/views/personal/address.vue"],names:[],mappings:"AACA,8BACE,qBAAuB,CACxB,AACD,4BACE,sBAAuB,AACvB,aAAc,AACd,eAAiB,CAClB,AACD,4BACE,mBAAqB,CACtB,AACD,6BACE,oBAAqB,AACrB,4BAA8B,CAC/B,AAID,6BACE,eAAgB,AAChB,SAAU,AACV,SAAW,CACZ,AACD,qDACE,YAAc,CACf,AACD,8BACC,cAAgB,CAChB,AACD,qCACM,UAAW,AACb,WAAY,AACZ,YAAa,AACb,YAAa,AACb,gBAAiB,AACjB,yBAA2B,CAC9B,AACD,gDACE,0BAA4B,CAC7B,AACD,mCACE,kBAAmB,AACnB,SAAU,AACV,aAAc,AACZ,UAAY,CACf",file:"address.vue",sourcesContent:["\n.addressBody[data-v-17242e7e]{\r\n  background-color: #eee;\n}\n.addressLi[data-v-17242e7e]{\r\n  background-color: #fff;\r\n  padding: 10px;\r\n  margin-top: 20px;\n}\n.li-header[data-v-17242e7e]{\r\n  padding-bottom: 10px;\n}\n.li-content[data-v-17242e7e]{\r\n  padding-bottom: 10px;\r\n  border-bottom: 1px solid #eee;\n}\n.li-footer[data-v-17242e7e]{\r\n  /*margin-top: 10px;*/\n}\n.addAddress[data-v-17242e7e]{\r\n  position: fixed;\r\n  bottom: 0;\r\n  z-index: 3;\n}\n.addBody[data-v-17242e7e],.editBody[data-v-17242e7e]{\r\n  height: 100vh;\n}\n.select-dict[data-v-17242e7e]{\r\n\tfont-size: 14px;\n}\n.select-dict button[data-v-17242e7e]{\r\n\t\t    width: 50%;\r\n    float: left;\r\n    height: 28px;\r\n    border: none;\r\n    background: #fff;\r\n    border-top: 1px solid #ccc;\n}\n.select-dict button[data-v-17242e7e]:last-child{\r\n\t\tborder-left: 1px solid #ccc;\n}\n.select-dict-btns[data-v-17242e7e]{\r\n\t\tposition: absolute;\r\n\t\tbottom: 0;\r\n\t\tbottom: -28px;\r\n    width: 100%;\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n"],sourceRoot:""}])},480:function(e,t,s){var a=s(413);"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);s(229)("359b29c8",a,!0)},549:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"_full_router addressBody"},[s("custHeader",{attrs:{title:e.title}}),e._v(" "),s("ul",e._l(e.addressData,function(t,a){return s("li",{staticClass:"addressLi"},[s("div",{staticClass:"li-header"},[s("span",[e._v(e._s(t.recipients))]),e._v(" "),s("span",{staticStyle:{float:"right"}},[e._v(e._s(t.recipientsMb))])]),e._v(" "),s("div",{staticClass:"li-content"},[s("span",{directives:[{name:"tranArea",rawName:"v-tranArea:province",value:{areaNum:t.province},expression:"{areaNum:item.province }",arg:"province"}]}),e._v(" "),s("span",{directives:[{name:"tranArea",rawName:"v-tranArea:city",value:{areaNum:t.city,topNum:t.province},expression:"{areaNum:item.city,topNum:item.province }",arg:"city"}]}),e._v(" "),s("span",{directives:[{name:"tranArea",rawName:"v-tranArea:area",value:{areaNum:t.county,topNum:t.city},expression:"{areaNum:item.county,topNum:item.city }",arg:"area"}]}),e._v("\n        "+e._s(t.address)+"\n      ")]),e._v(" "),s("div",{staticClass:"li-footer"},[s("mt-button",{staticStyle:{"margin-top":"13px"},attrs:{type:"primary",size:"small"},on:{click:function(s){e.editAddress(t.sno)}}},[e._v("编辑")]),e._v(" "),s("mt-button",{attrs:{type:"primary",size:"small"},on:{click:function(s){e.removeAddress(t.sno)}}},[e._v("删除")]),e._v(" "),s("div",{staticClass:"addressRadio",staticStyle:{display:"inline-block",float:"right"}},[s("mt-radio",{attrs:{options:[{label:"默认地址",value:t.sno}]},model:{value:e.isDefault,callback:function(t){e.isDefault=t},expression:"isDefault"}})],1)],1)])})),e._v(" "),s("mt-button",{staticClass:"addAddress",attrs:{type:"primary",size:"large"},on:{click:e.addAddress}},[e._v("添加新地址")]),e._v(" "),s("mt-popup",{staticStyle:{width:"100%"},attrs:{position:"right"},model:{value:e.addVis,callback:function(t){e.addVis=t},expression:"addVis"}},[s("div",{staticClass:"addBody"},[s("mt-header",{staticClass:"cust-header",staticStyle:{background:"#ef4f4f"},attrs:{title:"添加新地址"}},[s("mt-button",{attrs:{icon:"back"},on:{click:e.addBack},slot:"left"},[e._v("返回")]),e._v(" "),s("mt-button",{on:{click:e.saveAddress},slot:"right"},[e._v("保存")])],1),e._v(" "),s("mt-field",{directives:[{name:"validtype",rawName:"v-validtype",value:e.rules.addRecipients,expression:"rules.addRecipients"}],attrs:{label:"*收货人:",state:e.rules.addRecipients.state},model:{value:e.addForm.addRecipients,callback:function(t){e.addForm.addRecipients=t},expression:"addForm.addRecipients"}}),e._v(" "),s("mt-field",{directives:[{name:"validtype",rawName:"v-validtype",value:e.rules.addmb,expression:"rules.addmb"}],attrs:{label:"*收货人电话:",state:e.rules.addmb.state},model:{value:e.addForm.addmb,callback:function(t){e.addForm.addmb=t},expression:"addForm.addmb"}}),e._v(" "),s("mt-field",{directives:[{name:"lfoucs",rawName:"v-lfoucs",value:e.selectTypeVisibleShow3,expression:"selectTypeVisibleShow3"},{name:"areas",rawName:"v-areas",value:e.areas.province,expression:"areas.province"}],attrs:{label:"*省/直辖市:",placeholder:"请选择省/直辖市"},model:{value:e.addForm.province.name,callback:function(t){e.addForm.province.name=t},expression:"addForm.province.name"}}),e._v(" "),s("mt-field",{directives:[{name:"lfoucs",rawName:"v-lfoucs",value:e.selectTypeVisibleShow4,expression:"selectTypeVisibleShow4"},{name:"areas",rawName:"v-areas",value:e.areas.city,expression:"areas.city"}],attrs:{label:"*市:",placeholder:"请输入市"},model:{value:e.addForm.city.name,callback:function(t){e.addForm.city.name=t},expression:"addForm.city.name"}}),e._v(" "),s("mt-field",{directives:[{name:"lfoucs",rawName:"v-lfoucs",value:e.selectTypeVisibleShow5,expression:"selectTypeVisibleShow5"},{name:"areas",rawName:"v-areas",value:e.areas.area,expression:"areas.area"}],attrs:{label:"*县/区:",placeholder:"请输入县/区"},model:{value:e.addForm.county.name,callback:function(t){e.addForm.county.name=t},expression:"addForm.county.name"}}),e._v(" "),s("mt-field",{directives:[{name:"validtype",rawName:"v-validtype",value:e.rules.addAddress,expression:"rules.addAddress"}],attrs:{label:"*收货地址:",state:e.rules.addAddress.state},model:{value:e.addForm.addAddress,callback:function(t){e.addForm.addAddress=t},expression:"addForm.addAddress"}})],1)]),e._v(" "),s("mt-popup",{staticStyle:{width:"100%"},attrs:{position:"right"},model:{value:e.editVis,callback:function(t){e.editVis=t},expression:"editVis"}},[s("div",{staticClass:"editBody"},[s("mt-header",{staticClass:"cust-header",staticStyle:{background:"#ef4f4f"},attrs:{title:"编辑地址"}},[s("mt-button",{attrs:{icon:"back"},on:{click:e.editBack},slot:"left"},[e._v("返回")]),e._v(" "),s("mt-button",{on:{click:e.saveEditAddress},slot:"right"},[e._v("保存")])],1),e._v(" "),s("mt-field",{directives:[{name:"validtype",rawName:"v-validtype",value:e.rules.editRecipients,expression:"rules.editRecipients"}],attrs:{label:"*收货人:",state:e.rules.editRecipients.state},model:{value:e.editForm.editRecipients,callback:function(t){e.editForm.editRecipients=t},expression:"editForm.editRecipients"}}),e._v(" "),s("mt-field",{directives:[{name:"validtype",rawName:"v-validtype",value:e.rules.editmb,expression:"rules.editmb"}],attrs:{label:"*收货人电话:",state:e.rules.editmb.state},model:{value:e.editForm.editmb,callback:function(t){e.editForm.editmb=t},expression:"editForm.editmb"}}),e._v(" "),s("mt-field",{directives:[{name:"lfoucs",rawName:"v-lfoucs",value:e.selectTypeVisibleShow3,expression:"selectTypeVisibleShow3"},{name:"areas",rawName:"v-areas",value:e.areas.province,expression:"areas.province"}],attrs:{label:"*省/直辖市:",placeholder:"请选择省/直辖市"},model:{value:e.editForm.province.name,callback:function(t){e.editForm.province.name=t},expression:"editForm.province.name"}}),e._v(" "),s("mt-field",{directives:[{name:"lfoucs",rawName:"v-lfoucs",value:e.selectTypeVisibleShow4,expression:"selectTypeVisibleShow4"},{name:"areas",rawName:"v-areas",value:e.areas.city,expression:"areas.city"}],attrs:{label:"*市:",placeholder:"请输入市"},model:{value:e.editForm.city.name,callback:function(t){e.editForm.city.name=t},expression:"editForm.city.name"}}),e._v(" "),s("mt-field",{directives:[{name:"lfoucs",rawName:"v-lfoucs",value:e.selectTypeVisibleShow5,expression:"selectTypeVisibleShow5"},{name:"areas",rawName:"v-areas",value:e.areas.area,expression:"areas.area"}],attrs:{label:"*县/区:",placeholder:"请输入县/区"},model:{value:e.editForm.county.name,callback:function(t){e.editForm.county.name=t},expression:"editForm.county.name"}}),e._v(" "),s("mt-field",{directives:[{name:"validtype",rawName:"v-validtype",value:e.rules.editAddress,expression:"rules.editAddress"}],attrs:{label:"*收货地址:",state:e.rules.editAddress.state},model:{value:e.editForm.editAddress,callback:function(t){e.editForm.editAddress=t},expression:"editForm.editAddress"}})],1)]),e._v(" "),s("mt-popup",{staticClass:"select-dict",staticStyle:{width:"80%"},attrs:{"pop-transtion":"popop-fade"},model:{value:e.selectTypeVisible3,callback:function(t){e.selectTypeVisible3=t},expression:"selectTypeVisible3"}},[s("mt-picker",{attrs:{slots:e.selectTypeSlots3,valueKey:"name","visible-item-count":7},on:{change:e.selectTypeChange3}}),e._v(" "),s("div",{staticClass:"select-dict-btns"},[s("button",{staticClass:"btn",on:{click:e.dissSelectType}},[e._v("取消")]),e._v(" "),s("button",{staticClass:"btn",on:{click:e.sureSelectType}},[e._v("确认")])])],1),e._v(" "),s("mt-popup",{staticClass:"select-dict",staticStyle:{width:"80%"},attrs:{"pop-transtion":"popop-fade"},model:{value:e.selectTypeVisible4,callback:function(t){e.selectTypeVisible4=t},expression:"selectTypeVisible4"}},[s("mt-picker",{attrs:{slots:e.selectTypeSlots4,valueKey:"name","visible-item-count":7},on:{change:e.selectTypeChange4}}),e._v(" "),s("div",{staticClass:"select-dict-btns"},[s("button",{staticClass:"btn",on:{click:e.dissSelectType}},[e._v("取消")]),e._v(" "),s("button",{staticClass:"btn",on:{click:e.sureSelectType}},[e._v("确认")])])],1),e._v(" "),s("mt-popup",{staticClass:"select-dict",staticStyle:{width:"80%"},attrs:{"pop-transtion":"popop-fade"},model:{value:e.selectTypeVisible5,callback:function(t){e.selectTypeVisible5=t},expression:"selectTypeVisible5"}},[s("mt-picker",{attrs:{slots:e.selectTypeSlots5,valueKey:"name","visible-item-count":7},on:{change:e.selectTypeChange5}}),e._v(" "),s("div",{staticClass:"select-dict-btns"},[s("button",{staticClass:"btn",on:{click:e.dissSelectType}},[e._v("取消")]),e._v(" "),s("button",{staticClass:"btn",on:{click:e.sureSelectType}},[e._v("确认")])])],1)],1)},staticRenderFns:[]}}});
//# sourceMappingURL=37.65e1468f345012c5cee9.js.map