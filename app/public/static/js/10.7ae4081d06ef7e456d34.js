webpackJsonp([10],{205:function(t,n,e){e(250);var o=e(8)(e(234),e(255),null,null);t.exports=o.exports},221:function(t,n,e){"use strict";function o(t){var n=t||"novel",e=new PouchDB(n);return console.log("init pounchdb"),e}function i(t,n){return t.post(n)}function s(t,n){return t.get(n)}function a(t,n,e){return e._id=n,t.put(e)}function r(t,n,e,o){var i=!1;"[object Array]"===Object.prototype.toString.call(n)&&(i=!0);var s=e.map(function(t){var e="";return i?n.forEach(function(n,i){e+=(o?o[i]:"")+t[n]}):e=(o||"")+t[n],t._id=e,t});return console.log(s),t.bulkDocs(s)}var l={initDB:o,addData:i,putData:a,getById:s,mulPutDatas:r};n.a=l},234:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),function(t){var o=e(33),i=e.n(o),s=e(21),a=e.n(s),r=e(20),l=e(76),c=e(221);n.default={name:"ruleList",data:function(){return{infoLists:[],keyPath:"id",myDb:{},osname:"novels"}},computed:i()({},e.i(r.b)({getVersion:"getVersion"})),created:function(){var n=(c.a.initDB("novel"),this);a.a.get(t.URL_PREFIX+"").then(function(t){n.infoLists=t.data.results,n.setNovel(n.infoLists)}).catch(function(t){console.log(t)})},methods:i()({downloadnovel:function(t){this.$router.push("/novelMenuDownload?novelId="+this.infoLists[t].id)},getNovel:function(t){var n=this,e=n.infoLists[t],o=e.id;l.a.getDataByIndex(n.myDb.db,n.osname,o,n.keyPath,function(t){t?(n.myDb.db.close(),n.$router.push("/novelList/detail?novelId="+o+"&novelChapterId="+t.currentChapter)):(e.currentChapter=1,e.downstatue=!1,l.a.addData(n.myDb.db,n.osname,[e]),n.myDb.db.close(),n.$router.push("/novelList/detail?novelId="+o+"&novelChapterId=1"))})},infoDetail:function(t){var n=this,e=this.infoLists[t].id,o=this.infoLists[t];this.myDb=c.a.initDB("novel"),c.a.getById(this.myDb,"novel"+e).then(function(t){n.$router.push("/novelList/detail?novelId="+e+"&novelChapterId=1")}).catch(function(t){console.log(t),"not_found"===t.name&&(o.currentChapter=1,o.downstatue=!1,c.a.putData(n.myDb,"novel"+e,o),n.$router.push("/novelList/detail?novelId="+e+"&novelChapterId=1"))})}},e.i(r.c)({setNovel:"setNovel",setDbVersion:"setDbVersion"}))}}.call(n,e(5))},245:function(t,n,e){n=t.exports=e(203)(!0),n.push([t.i,".desc button{float:right;border:1px;background:#26a2ff;color:#fff;padding:6 12px}","",{version:3,sources:["G:/work/my-project-novel/src/views/info/novelList.vue"],names:[],mappings:"AACA,aACC,YAAa,AACb,WAAY,AACZ,mBAAoB,AACpB,WAAY,AACZ,cAAgB,CAChB",file:"novelList.vue",sourcesContent:["\n.desc  button{\n\tfloat: right;\n\tborder: 1px;\n\tbackground: #26a2ff;\n\tcolor: #fff;\n\tpadding: 6 12px;\n}\n"],sourceRoot:""}])},250:function(t,n,e){var o=e(245);"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);e(204)("1a5ce13a",o,!0)},255:function(t,n){t.exports={render:function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[e("div",{staticClass:"_full_inner _scroll _effect component-chat"},[e("ul",{staticClass:"wechat-list"},t._l(t.infoLists,function(n,o){return e("li",{staticClass:"item _line-fine chat-item-transition"},[e("div",{staticClass:"info",attrs:{index:o},on:{click:function(n){t.infoDetail(o)}}},[e("div",{staticClass:"desc"},[e("span",[t._v(t._s(n.name))]),t._v(" "),e("button",{attrs:{type:"button",index:o},on:{click:function(n){n.stopPropagation(),n.preventDefault(),t.downloadnovel(o)}}},[t._v("下载")])])])])}))]),t._v(" "),e("transition",{attrs:{name:"slide-right"}},[e("router-view",{staticClass:"cover-transition"})],1)],1)},staticRenderFns:[]}}});
//# sourceMappingURL=10.7ae4081d06ef7e456d34.js.map