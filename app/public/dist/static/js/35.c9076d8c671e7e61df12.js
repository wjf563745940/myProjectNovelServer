webpackJsonp([35],{268:function(e,s,t){t(521);var a=t(13)(t(375),t(591),null,null);e.exports=a.exports},293:function(e,s,t){"use strict";(function(e){s.a={methods:{styleColor:function(e,s){return console.log(e,"--------",s),console.log(e<s),e<s?"sub-color":e==s?"":"add-color"},styleColorByBiz:function(s){return s==e.STKBIZ.BUY_IN||s==e.STKBIZ.SUBSCRIBE_PURCHASE?"add-color":s==e.STKBIZ.SELL_OUT?"sub-color":""},goBack:function(){this.$router.go(-1)}}}}).call(s,t(0))},294:function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var a=t(293),r=t(50);t.n(r);Vue.component(r.Header.name,r.Header),s.default={data:function(){return{}},props:{title:{type:String,default:"头"}},mixins:[a.a]}},295:function(e,s,t){var a=t(13)(t(294),t(296),null,null);e.exports=a.exports},296:function(e,s){e.exports={render:function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("mt-header",{staticClass:"cust-header",staticStyle:{background:"#ef4f4f"},attrs:{title:e.title}},[t("mt-button",{attrs:{icon:"back"},on:{click:e.goBack},slot:"left"},[e._v("返回")])],1)},staticRenderFns:[]}},375:function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),function(e){var a=t(295),r=t.n(a),i=t(50),n=(t.n(i),t(51)),o=t.n(n);s.default={data:function(){return{rules:{newMb:{str:"required,mobile",state:""}},title:"更改手机号",password:"",capMessage:"发送短信",capMessageNew:"发送短信",captcha:"",captchaNew:"",newMb:"",idDisabled:!1,idDisabledNew:!1,firstVis:!0,secondVis:!1}},methods:{firstCheck:function(){var s=this;e.isOpenMd5&&(this.password=e.md5(this.password)),axiosUtil.upCltPassAndSmsCheck({password:s.password,smsAuthCode:this.captcha}).then(function(e){var e=e.data;0==e.errorcode?(s.firstVis=!1,s.secondVis=!0):t.i(i.MessageBox)("提示",e.errormsg)})},secondCheck:function(){var s=this;axiosUtil.upCltCustMbBind({mb:s.newMb,smsAuthCode:this.captchaNew}).then(function(a){var a=a.data;0==a.errorcode?(o.a.remove("mb"),o.a.set("mb",s.newMb,{expires:1,path:e.webSite}),t.i(i.MessageBox)("提示",a.errormsg),router.push("/personal/userInfo")):t.i(i.MessageBox)("提示",a.errormsg)})},sendNew:function(){var e=this;if("error"===this.rules.newMb.state||""===this.rules.newMb.state||!this.newMb)return t.i(i.MessageBox)("提示","你的手机号格式不正确"),!1;axiosUtil.sendSms({askBizCode:100869,mb:this.newMb}).then(function(s){if(1==s.errorcode)t.i(i.MessageBox)("提示",s.errormsg);else{var a=60;e.capMessageNew=a+"s后重新发送",e.idDisabledNew=!0;var r=setInterval(function(){a-=1,e.capMessageNew=a+"s后重新发送",a||(e.capMessageNew="发送短信",e.idDisabledNew=!1,clearInterval(r))},1e3)}})},send:function(){var e=this;this.mb=o.a.get("mb"),axiosUtil.sendSms({askBizCode:100870,mb:this.mb}).then(function(s){if(1==s.errorcode)t.i(i.MessageBox)("提示",s.errormsg);else{var a=60;e.capMessage=a+"s后重新发送",e.idDisabled=!0;var r=setInterval(function(){a-=1,e.capMessage=a+"s后重新发送",a||(e.capMessage="发送短信",e.idDisabled=!1,clearInterval(r))},1e3)}})}},components:{custHeader:r.a}}}.call(s,t(0))},454:function(e,s,t){s=e.exports=t(228)(!0),s.push([e.i,"","",{version:3,sources:[],names:[],mappings:"",file:"changeMb.vue",sourceRoot:""}])},521:function(e,s,t){var a=t(454);"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);t(229)("71187fde",a,!0)},591:function(e,s){e.exports={render:function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"_full_router changeMbBody"},[t("custHeader",{attrs:{title:e.title}}),e._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:e.firstVis,expression:"firstVis"}]},[t("mt-field",{attrs:{label:"交易密码",placeholder:"请输入交易密码",type:"password"},model:{value:e.password,callback:function(s){e.password=s},expression:"password"}}),e._v(" "),t("mt-field",{attrs:{label:"验证码",placeholder:"请输入验证码"},model:{value:e.captcha,callback:function(s){e.captcha=s},expression:"captcha"}},[t("mt-button",{attrs:{size:"small",type:"primary",disabled:e.idDisabled},on:{click:e.send}},[e._v(e._s(e.capMessage))])],1),e._v(" "),t("mt-button",{attrs:{type:"primary",size:"large"},on:{click:e.firstCheck}},[e._v("下一步")])],1),e._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:e.secondVis,expression:"secondVis"}]},[t("mt-field",{directives:[{name:"validtype",rawName:"v-validtype",value:e.rules.newMb,expression:"rules.newMb"}],attrs:{label:"新手机号",placeholder:"请输入新的手机号",state:e.rules.newMb.state},model:{value:e.newMb,callback:function(s){e.newMb=s},expression:"newMb"}}),e._v(" "),t("mt-field",{attrs:{label:"验证码",placeholder:"请输入验证码"},model:{value:e.captchaNew,callback:function(s){e.captchaNew=s},expression:"captchaNew"}},[t("mt-button",{attrs:{size:"small",type:"primary",disabled:e.idDisabledNew},on:{click:e.sendNew}},[e._v(e._s(e.capMessageNew))])],1),e._v(" "),t("mt-button",{attrs:{type:"primary",size:"large"},on:{click:e.secondCheck}},[e._v("确定")])],1)],1)},staticRenderFns:[]}}});
//# sourceMappingURL=35.c9076d8c671e7e61df12.js.map